{{!-- Template HBS para la vista de Formulario --}}
<div class="header">
    <div class="header-nav">
        <button id="backBtn" class="btn-back" title="Volver al dashboard">
            ‚Üê Volver
        </button>
        <h1>
            <img src="{{logoUrl}}" alt="StructTech" class="logo" />
            StructTech
        </h1>
        <div class="user-badge">
            {{user.name}}
        </div>
    </div>
</div>

<div class="container">
    <form id="formPersona" method="POST">
        <div class="profile-section">
            <div class="profile-photo" id="profilePhoto">
                <div id="profilePlaceholder"></div>
                <img id="profileImage" src="img/profile.svg" alt="" />
            </div>
        </div>

        <div class="form-section">
            {{!-- Estructura --}}
            <div class="form-group">
                <label>Selecciona Estructura*</label>
                <select id="estructura" name="estructura" class="form-control" required>
                    <option value="">Sin selecci√≥n</option>
                    <option value="N/A">N/A</option>

                </select>
            </div>

            {{!-- Subsecci√≥n --}}
            <div class="form-group">
                <label>Selecciona SubEstructura*</label>
                <select id="subestructura" name="subestructura" class="form-control" required>
                    <option value="">Sin selecci√≥n</option>
                    <option value="N/A">N/A</option>
                </select>
            </div>

            {{!-- Nombre y apellidos --}}
            <div class="form-group">
                <label>Nombre*</label>
                <input type="text" id="nombre" name="nombre" class="form-control" placeholder="Nombre(s)" required />
            </div>
            <div class="form-group">
                <label>Apellido Paterno</label>
                <input type="text" id="apellidoPaterno" name="apellidoPaterno" class="form-control"
                    placeholder="Apellido Paterno" />
            </div>
            <div class="form-group">
                <label>Apellido Materno</label>
                <input type="text" id="apellidoMaterno" name="apellidoMaterno" class="form-control"
                    placeholder="Apellido Materno" />
            </div>

            {{!-- Fecha y g√©nero --}}
            <div class="form-group">
                <label>Fecha de Nacimiento</label>
                <input type="date" id="fechaNacimiento" name="fechaNacimiento" class="form-control" />
            </div>
            <div class="form-group">
                <label>G√©nero</label>
                <div class="gender-group">
                    <div class="gender-option">
                        <input type="radio" id="hombre" name="genero" value="M" />
                        <label for="hombre">üë® Hombre</label>
                    </div>
                    <div class="gender-option">
                        <input type="radio" id="mujer" name="genero" value="F" />
                        <label for="mujer">üë© Mujer</label>
                    </div>
                </div>
            </div>

            {{!-- CURP, elector, domicilio, secci√≥n, observaci√≥n, tel√©fono --}}
            <div class="form-group">
                <label>CURP</label>
                <input type="text" id="curp" name="curp" class="form-control" maxlength="18" placeholder="CURP" />
            </div>
            <div class="form-group">
                <label>Clave de Elector</label>
                <input type="text" id="claveElector" name="claveElector" class="form-control"
                    placeholder="Clave de Elector" />
            </div>
            <div class="form-group">
                <label>Domicilio</label>
                <input type="text" id="domicilio" name="domicilio" class="form-control"
                    placeholder="Domicilio completo" />
            </div>
            <div class="form-group">
                <label>Secci√≥n</label>
                <input type="text" id="seccion" name="seccion" class="form-control" maxlength="4"
                    placeholder="Secci√≥n electoral" />
            </div>
            <div class="form-group">
                <label>Observaci√≥n</label>
                <textarea id="observacion" name="observacion" class="form-control" rows="3"
                    placeholder="Agregar observaciones..."></textarea>
            </div>
            <div class="form-group">
                <label>Tel√©fono</label>
                <input type="tel" id="telefono" name="telefono" class="form-control" placeholder="N√∫mero de tel√©fono" />
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="email" name="email" class="form-control" placeholder="Correo electr√≥nico" />
            </div>

            {{!-- Firma --}}
            <div class="signature-section">
                <label>Firma de Autorizaci√≥n</label>
                <div class="signature-box" id="signatureBox">
                    <canvas id="signatureCanvas"></canvas>
                    <img id="signatureImage" src="" alt="" />
                    <div id="signaturePlaceholder">‚úèÔ∏è</div>
                </div>
                <div class="signature-controls">
                    <button type="button" id="clearSignature">Limpiar Firma</button>
                    <button type="button" id="undoSignature">Deshacer</button>
                </div>
            </div>

            {{!-- Audio --}}
            <div class="audio-section">
                
                <div class="audio-controls">
                    <button type="button" id="audioBtn">üé§</button>
                    <div class="audio-info">
                        <div id="audioTimer">00:00:00</div>
                        <span id="audioHint">Mant√©n presionado para grabar</span>
                    </div>
                    <button type="button" id="audioDelete" class="audio-delete">üóëÔ∏è</button>
                </div>
                <div id="audioWave" class="audio-wave">
                    <span></span><span></span><span></span><span></span><span></span>
                </div>
            </div>

            {{!-- Hidden fields --}}
            <input type="hidden" id="documentNumber" name="documentNumber" />
            <input type="hidden" id="fullDocumentFrontImage" name="fullDocumentFrontImage" />
            <input type="hidden" id="fullDocumentBackImage" name="fullDocumentBackImage" />
            <input type="hidden" id="faceImageData" name="faceImageData" />
            <input type="hidden" id="signatureImageData" name="signatureImageData" />

            <button type="submit" class="save-button">Guardar</button>
        </div>
    </form>
</div>

<button id="btnScan" class="fab-scan">
    <div id="scanIcon"></div>
</button>