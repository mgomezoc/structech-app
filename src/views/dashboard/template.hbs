{{!-- src/views/dashboard/template.hbs --}}

<div class="dashboard-container">
    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="header-left">
                <img src="{{imgHeader}}" alt="StructTech" class="header-logo" />
                <h1>StructTech</h1>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <span class="user-name">
                        {{#if user.name}}{{user.name}}{{else if user.email}}{{user.email}}{{else}}Usuario{{/if}}
                    </span>
                    <button id="logoutBtn" class="btn-logout" title="Cerrar sesión">
                        <lord-icon src="https://cdn.lordicon.com/ldpyyqjp.json" trigger="in" colors="primary:#ffffff"
                            style="width:20px;height:20px">
                        </lord-icon>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="app-content">
        <div class="welcome-section">
            <h2>Bienvenido, {{#if user.name}}{{user.name}}{{else}}Usuario{{/if}}</h2>
            <p>Selecciona el tipo de registro que deseas realizar</p>
        </div>

        <div class="dashboard-grid">
            <!-- Registro con Escaneo de INE -->
            <div class="dashboard-card primary-card" id="scanCard">
                <div class="card-icon">
                    <lord-icon src="https://cdn.lordicon.com/fgkmrslx.json" trigger="hover" colors="primary:#0ea5e9"
                        style="width:64px;height:64px">
                    </lord-icon>
                </div>
                <h3>Registro con Escaneo de INE</h3>
                <p>
                    Captura automáticamente los datos escaneando una INE oficial mexicana.
                    La forma más rápida y precisa de registrar.
                </p>
                <div class="card-features">
                    <span class="feature-tag">✓ Escaneo automático</span>
                    <span class="feature-tag">✓ Mayor precisión</span>
                </div>
                <button class="btn-card primary">Iniciar Registro</button>
            </div>

            <!-- Enrolamiento Manual -->
            <div class="dashboard-card secondary-card" id="enrollCard">
                <div class="card-icon">
                    <lord-icon src="https://cdn.lordicon.com/ulgefjgj.json" trigger="hover" colors="primary:#f59e0b"
                        style="width:64px;height:64px">
                    </lord-icon>
                </div>
                <h3>Enrolamiento Manual</h3>
                <p>Registrar usuario sin escaneo de INE</p>
                <div class="card-features">
                    <span class="feature-tag">✓ Selección de estructura</span>
                    <span class="feature-tag">✓ Previsualización de imagen</span>
                </div>
                <button class="btn-card secondary">Enrolar Manual</button>
            </div>

            <!-- Alta Gestión -->
            <div class="dashboard-card tertiary-card" id="altaGestionCard">
                <div class="card-icon">
                    <lord-icon src="https://cdn.lordicon.com/dafdkyyt.json" trigger="hover" colors="primary:#10b981"
                        style="width:64px;height:64px">
                    </lord-icon>
                </div>
                <h3>Alta de Gestión</h3>
                <p>
                    Registra y da seguimiento a las gestiones ciudadanas.
                    Adjunta archivos y clasifica por tipo.
                </p>
                <div class="card-features">
                    <span class="feature-tag">✓ Clasificación por tipo</span>
                    <span class="feature-tag">✓ Adjuntar archivos</span>
                </div>
                <button class="btn-card tertiary">Nueva Gestión</button>
            </div>
        </div>

        <!-- Estadísticas Rápidas -->
        <div class="stats-section">
            <div class="stat-card">
                <lord-icon src="https://cdn.lordicon.com/kbtmbyzy.json" trigger="loop" delay="2000"
                    colors="primary:#0ea5e9" style="width:32px;height:32px">
                </lord-icon>
                <div class="stat-content">
                    <h4>Registros Hoy</h4>
                    <p class="stat-number">12</p>
                </div>
            </div>
            <div class="stat-card">
                <lord-icon src="https://cdn.lordicon.com/fhtaantg.json" trigger="loop" delay="2500"
                    colors="primary:#10b981" style="width:32px;height:32px">
                </lord-icon>
                <div class="stat-content">
                    <h4>Total Registros</h4>
                    <p class="stat-number">248</p>
                </div>
            </div>
            <div class="stat-card">
                <lord-icon src="https://cdn.lordicon.com/jxhgzthg.json" trigger="loop" delay="3000"
                    colors="primary:#8b5cf6" style="width:32px;height:32px">
                </lord-icon>
                <div class="stat-content">
                    <h4>Última Sincronización</h4>
                    <p class="stat-time">Hace 5 min</p>
                </div>
            </div>
        </div>

        <!-- Actividad Reciente -->
        <div class="recent-activity">
            <div class="activity-header">
                <h3>Actividad Reciente</h3>
                <button class="btn-refresh" id="refreshActivity">
                    <lord-icon src="https://cdn.lordicon.com/sihdhmit.json" trigger="click" target="#refreshActivity"
                        colors="primary:#6b7280" style="width:20px;height:20px">
                    </lord-icon>
                </button>
            </div>
            <div id="activityList" class="activity-list">
                <p class="loading-text">Cargando actividad...</p>
            </div>
        </div>
    </main>
</div>

<footer class="app-footer">
    <div class="footer-content">
        <p>&copy; 2023 StructTech. Todos los derechos reservados.</p>
    </div>
</footer>